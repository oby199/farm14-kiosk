<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Farm 14 Kiosk</title>
  
  <!-- Preload critical resources -->
  <link rel="preload" href="script.js" as="script">
  <link rel="preload" href="style.css" as="style">
  <link rel="preload" href="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js" as="script">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@700;900&display=swap" rel="stylesheet">
  
  <!-- Styles -->
  <link rel="stylesheet" href="style.css" />
  
  <!-- Scripts -->
  <script defer src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js"></script>
  <script defer src="script.js"></script>
</head>
<body>
  <div class="tap-to-begin-overlay" id="tap-to-begin-overlay">
    <h3>انقر للبدء</h3>
    <div class="tap-icon">Tap to Begin</div>
  </div>
  <div class="palms left"></div>
  <div class="palms right"></div>
  <div class="container">
  <header>
      <img src="logo.png" alt="Farm 14 Logo" class="logo-img" onerror="this.style.display='none'">
      <h1 class="farm-title"><span class="farm-green">Farm</span> <span class="farm-gold">14</span></h1>
  </header>

  <main>
      <div id="cameraContainer">
        <video id="video" autoplay muted playsinline width="100%" height="auto"></video>
        <canvas id="overlay"></canvas>
        <div class="scanning-text">Looking for a visitor...</div>
      </div>
      
      <div class="controls">
        <button id="micButton" disabled>Ask about Farm 14</button>
        <select id="langSelect">
          <option value="en">English</option>
          <option value="ar">العربية</option>
        </select>
      </div>

      <div class="rotating-questions">
        <div class="question-container">
          <span class="question-text"></span>
        </div>
      </div>

      <div class="answer-container">
        <h3>Answer</h3>
        <div id="answer" class="answer-box">--</div>
      </div>

      <div class="suggested-questions">
        <h4><span class="question-icon">Suggested Questions</span></h4>
        <ul>
          <li>What crops do you grow?</li>
          <li>What's the farm's history?</li>
          <li>How do you grow your crops?</li>
        </ul>
      </div>

      <div class="environment">
        <div class="env-box">
          <span class="icon">Temperature</span>
          <span id="tempValue">27.5°C</span>
        </div>
        <div class="env-box">
          <span class="icon">Humidity</span>
          <span id="humidityValue">62%</span>
        </div>
      </div>
  </main>

  <footer>
    <p>© 2024 Farm 14 Kiosk</p>
  </footer>
  </div>

  <div id="transcript-debug" style="position:fixed;bottom:10px;left:10px;padding:10px;background:#000;color:#0f0;font-size:14px;z-index:999;border-radius:8px;max-width:80%;opacity:0.8;">
    <strong>Transcript:</strong> <span id="live-transcript">...</span>
  </div>
</body>
</html>
